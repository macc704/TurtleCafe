<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/REC-html401/loose.dtd">
<html lang="ja">
<head>
<META http-equiv="Content-Type" content="text/html;charset=UTF-8">
<META http-equiv="Content-Style-Type" content="text/css">
<META http-equiv="Content-Script-Type" content="text/javascript">
<META name="generator" content="SmartDoc 1.0">
<META NAME="author" CONTENT="Yoshiaki Matsuzawa" lang="ja">
<META NAME="date" CONTENT="2013/12/17" lang="ja">
<title>Turtle Cafe 2</title>
<style type="text/css">
<!--
/*
    text.css

    since   : Nov. 21, 1998
    version : Jan. 29, 2002
    author  : ASAMI, Tomoharu (asami@XMLSmartDoc.org)
*/

body {
  background: white;

	margin-right: 5%;
	margin-left: 5%;
}

h1 {
	font-size: 28px;
	text-align: center;	

	margin-top: 20px;
	margin-left: 10%;	
	margin-right: 10%;
	margin-bottom: 20px;

	border-style: solid;
	border-width: 2px 2px 2px 2px;
	border-color: #990000;

	padding-top: 10px;
	padding-bottom: 10px;
}

h1.title {
}

h1.part {
}

h1.chapter {
}

h2 {
	font-size: 25px;
	color: black;

	border-style: solid;
	border-width: 0px 0px 2px 8px;
	border-color: #000099;

	padding-left: 10px;

}

h3 {
	color: black;

	margin-left: 	1%;
	margin-right: 1%;	

	border-style: solid;
	border-width: 0px 0px 2px 8px;
	border-color: #009900;

	padding-left: 10px;

}

h4 {
	color: black;

	margin-left: 2%;
	margin-right: 2%;	

	border-style: solid;
	border-width: 0px 0px 2px 8px;
	border-color: #990000;

	padding-left: 10px;
}

p {
	margin-left: 2%;
	margin-right: 2%;

  text-indent: 1em;
}

p ja {
}

p.first {
}

p.first_ja {
}

dl{
	margin-right: 2%;
	margin-left: 2%;
}

ul{
	margin-right: 2%;
	margin-left: 2%;
}

ol{
	margin-right: 2%;
	margin-left: 5%;
}

li p {
  text-indent: 0pt;
}

dt {
  font-weight: bold;
}

th p {
  text-indent: 0pt;
}

td p {
  text-indent: 0pt;
}

a:link {
  color: black;
}

a:visited {
  color: black;
}

a:hover{
  color: gold;
};

/* ********************************************** */

dfn {
  font-weight: bold;
  font-style: normal;
}

code {
  font-family: helvetica, sans-serif;
  font-weight: bold;
}

/* ********************************************** */

div.table {
  text-align: center;
}

table.data {
  margin-top: 10pt;
  margin-bottom: 10pt;
  background-color: green;
}

table.data caption {
  background-color: khaki;
  font-weight: bold;
}

table.data th {
  color: yellow;
  background-color: lightseagreen;
}

table.data td {
  background-color: antiquewhite;
}

table.data td.key {
  background-color: salmon;
  font-weight: bold;
}

table.menu {
  margin-top: 10pt;
  margin-bottom: 10pt;
  text-align: center;
}

table.menu caption {
  background-color: khaki;
  font-weight: bold;
}

table.menu th {
  color: yellow;
  background-color: lightseagreen;
}

table.menu td {
  color: Maroon;
  background-color: antiquewhite;
  font-weight: bold;
  padding: 10pt;
}

table.menu td.key {
  font-size: x-large;
  color: RoyalBlue;
  background-color: LightGreen;
  font-weight: bold;
  padding: 10pt;
}

table.menu td.key A:link {
  color: RoyalBlue;
}

table.menu td.key A:visited {
  color: RoyalBlue;
}

table.navigator {
}

table.navigator td {
  text-align: center;
  font-weight: bold;
}

table.languages {
  margin-bottom: 0pt;
  margin-top: 0pt;
  font-size: x-small;
}

table.languages td.current {
}

table.languages td.other {
  background-color: Orange;
}

div.title {
  text-align: center;
}

div.toc {
  background-color: white;/*cornsilk;*/
  padding: 10pt;
  border-style: double;
  border-color: black;/*cornsilk;*/
  margin-top: 10pt;
  margin-bottom: 10pt;
}

div.titletoc {
  background-color: cornsilk;
  padding: 10pt;
  border-style: inset;
  border-color: cornsilk;
  margin-top: 10pt;
  margin-bottom: 30pt;
}

div.date {
  text-align: center;
}

div.org {
  text-align: center;
}

div.author {
  text-align: center;
  font-weight: bold;
}

div.email {
  text-align: center;
}

div.hp {
  text-align: center;
}

div.summary {
  color: maroon;
  background: darkkhaki;
  border-style: inset;
  border-color: khaki;
  margin-top: 20pt;
  margin-bottom: 20pt;
  margin-left: 30pt;
  margin-right: 30pt;
  padding: 5pt;
}

div.comment {
  color: red;
  background: yellow;
}

span.comment {
  color: red;
  background: yellow;
}

div.navigator {
  background: khaki;
  border-top: 1pt solid black;
  border-bottom: 1pt solid black;
  text-align: center;
  margin-top: 10pt;
  margin-bottom: 10pt;
}

div.navigatortop {
  background: khaki;
  border-top: 1pt solid black;
  border-bottom: 1pt solid black;
  text-align: center;
  margin-bottom: 10pt;
}

div.navigatorbottom {
  background: khaki;
  border-top: 1pt solid black;
  border-bottom: 1pt solid black;
  text-align: center;
  margin-top: 10pt;
}

div.languages {
  text-align: right;
}

div.footnote {
  background: antiquewhite;
}

div.fyi {
  color: maroon;
  background: peachpuff;
  padding: 5pt;
  margin-top: 10pt;
  margin-bottom: 10pt;
}

div.fyi div.title {
  background: antiquewhite;
  font-weight: bold;
  padding: 5pt;
  margin-top: 5pt;
  margin-bottom: 5pt;
}

div.caption {
  background: lavender;
  font-weight: bold;
  padding: 5pd;
  width: 300pt;
	margin-left: 2%;
  margin-top: 10pt;
}

div.result {
  background: ivory;
  border-style: inset;
  border-color: gold;
  padding: 10pt;
  margin-top: 10pt;
  margin-bottom: 10pt;
}

span.caption {
  background: lavender;
  font-weight: bold;
}

pre.program {
  background-color: gainsboro;
  font-family: courier, monospace;
  padding: 5pt;
  margin-right: 30pt;
}

pre.program em {
  color: red;
  font-style: normal;
}

pre.program strong {
  color: red;
  background-color: yellow;
  font-style: normal;
}

pre.program span.keyword {
  color: Red;
  font-style: normal;
  font-weight: bold;
}

pre.program span.primitive {
  color: Yellow;
  font-style: normal;
}

pre.program span.comment {
  color: Green;
  background-color: gainsboro;
  font-style: normal;
}

pre.program span.quote {
  color: Blue;
  font-style: normal;
}

var {
  color: green;
  font-style: italic;
}

tt {
  font-family: courier, monospace;
}

code {
  font-family: helvetica, sans-serif;
  font-weight: bold;
}

pre.console {
  background-color: black;
  color: white;
  font-family: courier, monospace;
  padding: 5pt;
	margin-left: 2%;
  margin-right: 2%;
}

pre.console kbd {
  font-family: courier, monospace;
  color: yellow;
}

span.toggle {
  font-weight: bold;
}

div.figure {
  text-align: center;
}

img.figure {
  margin: 10pt;
}

div.equation {
  margin-top: 1em;
  margin-right: 30pt;
  margin-bottom: 1em;
  padding-top: 1em;
  padding-left: 4em;
  padding-bottom: 1em;
  background: powderblue;
}

div.equation table {
}

div.equation table td.padding {
  width:2em
}

td.equationNumber {
  width: 4em;
  text-align: right;
}
-->
</style>
<script type="text/javascript">
<!--
/*
 * HTML4JavaScript.js
 *
 * @since   Nov. 17, 1998
 * @version Oct. 22, 2001
 * @author  ASAMI, Tomoharu (asami@zeomtech.com)
 */
var backupColor=null;
var backupBGColor=null;
var backupFontStyle=null;
var backupIDColor=null;
var backupIDBGColor=null;
var backupIDFontStyle=null;
var backupIDBorderStyle=null;

var backupOnKeyDown=null;

function normal(element) {
  if (document.all) {
    if (backupColor != null) {
      element.style.color=backupColor;
      backupColor=null;
    }
    if (backupBGColor != null) {
      element.style.background=backupBGColor;
      backupBGColor=null;
    }
    if (backupFontStyle != null) {
      element.style.fontStyle=backupFontStyle;
      backupFontStyle=null;
    }
    var id = null;
    if (element.href != null) {
      id = element.href;
      id = id.substring(id.indexOf("#") + 1);
    }
    if (id != null) {
      var target = document.all.item(id, 0);
      if (backupIDColor != null) {
        target.style.color=backupIDColor;
        backupIDColor=null;
      }
      if (backupIDBGColor != null) {
        target.style.background=backupIDBGColor;
        backupIDBGColor=null;
      }
      if (backupIDFontStyle != null) {
        target.style.fontStyle=backupIDFontStyle;
        backupIDFontStyle=null;
      }
      if (backupIDBorderStyle != null) {
        target.style.borderStyle=backupIDBorderStyle;
        backupIDBorderStyle=null;
      }
    }
  }
}

function hilight(element) {
  if (document.all) {
    backupBGColor=element.style.background;
    element.style.background="gold";
  }
}

function hilightString(element, color) {
  if (color == null) {
    color="darkolivegreen";
  }
  if (document.all) {
    backupColor=element.style.color;
    backupFontStyle=element.style.fontStyle;
    element.style.color=color;
  }
}

function hilightSelflink(element, color) {
  if (color == null) {
    color="darkolivegreen";
  }
  if (document.all) {
    backupColor=element.style.color;
    backupBGColor=element.style.background;
    backupFontStyle=element.style.fontStyle;
    element.style.color=color;
    var id = null;
    if (element.href != null) {
      id = element.href;
      id = id.substring(id.indexOf("#") + 1);
    }
    if (id != null) {
      var target = document.all.item(id, 0);
      backupIDColor=target.style.color;
//      backupIDBGColor=target.style.background;
//      backupIDFontStyle=target.style.fontStyle;
      backupIDBorderStyle=target.style.borderStyle;
      target.style.color="red";
      target.style.borderStyle="outset";
    }
  }
}

function hilightHyperlink(element, color) {
  if (color == null) {
    color="darkorange";
  }
  if (document.all) {
    backupColor=element.style.color;
    backupBGColor=element.style.background;
    backupFontStyle=element.style.fontStyle;
    element.style.color=color;
  }
}

function hilightExternallink(element, color) {
  if (color == null) {
    color="purple";
  }
  if (document.all) {
    backupColor=element.style.color;
    backupBGColor=element.style.background;
    backupFontStyle=element.style.fontStyle;
    element.style.color=color;
  }
}

function toggleChildren(node) {
  if (document.all) {
    for (i = 0;i < node.children.length;i++) {
      var child = node.children[i];
      if (child.className == "dynamic") {
        if (child.style.display == "") {
            child.style.display = "none";
        } else {
            child.style.display = "";
        }
      }
    }
  }
}

function toggleDynamic(node) {
  if (document.all) {
    if (node.tagName == "LI") {
      toggleChildren(node);
    }
  }
}

function isMsie4orGreater() { 
  var ua = window.navigator.userAgent; var msie = ua.indexOf ("MSIE");
  if (msie > 0) {
    return (parseInt (ua.substring (msie+5, ua.indexOf (".", msie))) >= 4)   
      && (ua.indexOf ("MSIE 4.0b") <0);
  } else {
    return false;
  }
}

function keyEventHandler() {
  if (document.all) {
    if (event.keyCode == 13) {
      var child = document.all.item("_next_page_", 0);
      if (child != null) {
        location.href = child.href;
      }
    } else if (event.keyCode == 39) {
      var child = document.all.item("_next_page_", 0);
      if (child != null) {
        location.href = child.href;
      }
    } else if (event.keyCode = 37) {
      var child = document.all.item("_prev_page_", 0);
      if (child != null) {
        location.href = child.href;
      }
    } else {
      backupOnKeyDown();
    }
  }
}

function setOHPHandler() {
  backupOnKeyDown=document.onkeydown;
  document.onkeydown=keyEventHandler;
}
// -->
</script>
</head>
<body>
<div class="navigatortop">
<table class="navigator">
<tr>
<td><a href="index_p1_c5.html" onMouseOver="hilightHyperlink(this)" onMouseOut="normal(this)" id="_prev_page_"><span class="toggle">&lt;&lt;</span></a></td>
<td><a href="index.html" onMouseOver="hilightHyperlink(this)" onMouseOut="normal(this)">Turtle Cafe 2</a>/<a href="index_p1.html#doc1_part:one" onMouseOver="hilightHyperlink(this)" onMouseOut="normal(this)">Javaプログラミング入門</a>/ブロックの入れ子構造</td>
<td><a href="index_p1_c7.html" onMouseOver="hilightHyperlink(this)" onMouseOut="normal(this)" id="_next_page_"><span class="toggle">&gt;&gt;</span></a></td>
</tr>
</table>
</div>

<h1 class="chapter" id="doc1_32">6  ブロックの入れ子構造</h1>

<div class="titletoc">
<ul>
<li> <a href="#doc7_1883" onMouseOver="hilightSelflink(this)" onMouseOut="normal(this)">6.1  学習目標</a>
<li> <a href="#doc7_1895" onMouseOver="hilightSelflink(this)" onMouseOut="normal(this)">6.2  繰り返しの入れ子</a>
<ul>
<li> <a href="#doc7_1900" onMouseOver="hilightSelflink(this)" onMouseOut="normal(this)">6.2.1  窓を描く（４つの四角形を描く）プログラム</a>
<li> <a href="#doc7_1932" onMouseOver="hilightSelflink(this)" onMouseOut="normal(this)">6.2.2  ブロックの入れ子</a>
<li> <a href="#doc7_1952" onMouseOver="hilightSelflink(this)" onMouseOut="normal(this)">6.2.3  インデント</a>
</ul>
<li> <a href="#doc7_1970" onMouseOver="hilightSelflink(this)" onMouseOut="normal(this)">6.3  入れ子と並列の違いの考察：花を描くプログラム</a>
<ul>
<li> <a href="#doc7_1977" onMouseOver="hilightSelflink(this)" onMouseOut="normal(this)">6.3.1  花びらを描く</a>
<li> <a href="#doc7_2001" onMouseOver="hilightSelflink(this)" onMouseOut="normal(this)">6.3.2  花を描く</a>
<li> <a href="#doc7_2028" onMouseOver="hilightSelflink(this)" onMouseOut="normal(this)">6.3.3  花を描く（間違い）</a>
</ul>
<li> <a href="#doc7_2059" onMouseOver="hilightSelflink(this)" onMouseOut="normal(this)">6.4  繰り返し変数の利用</a>
<ul>
<li> <a href="#doc7_2061" onMouseOver="hilightSelflink(this)" onMouseOut="normal(this)">6.4.1  目玉を描くプログラム</a>
<li> <a href="#doc7_2088" onMouseOver="hilightSelflink(this)" onMouseOut="normal(this)">6.4.2  奇数と偶数を判定する</a>
</ul>
<li> <a href="#doc7_2116" onMouseOver="hilightSelflink(this)" onMouseOut="normal(this)">6.5  練習問題</a>
<ul>
<li> <a href="#doc7_2119" onMouseOver="hilightSelflink(this)" onMouseOut="normal(this)">6.5.1  四角形を10個描くプログラムを作ろう</a>
<li> <a href="#doc7_2127" onMouseOver="hilightSelflink(this)" onMouseOut="normal(this)">6.5.2  四角形を100個描くプログラムを作ろう</a>
<li> <a href="#doc7_2135" onMouseOver="hilightSelflink(this)" onMouseOut="normal(this)">6.5.3  四角形と三角形を交互に100個描くプログラムを作ろう</a>
<li> <a href="#doc7_2143" onMouseOver="hilightSelflink(this)" onMouseOut="normal(this)">6.5.4  貝殻を描くプログラムを作ろう</a>
<li> <a href="#doc7_2159" onMouseOver="hilightSelflink(this)" onMouseOut="normal(this)">6.5.5  タイヤを描くプログラムを作ろう</a>
<li> <a href="#doc7_2170" onMouseOver="hilightSelflink(this)" onMouseOut="normal(this)">6.5.6  ドラえもんを描くプログラムを作ろう</a>
<li> <a href="#doc7_2178" onMouseOver="hilightSelflink(this)" onMouseOut="normal(this)">6.5.7  キーボードを描くプログラムを作ろう</a>
</ul>
</ul>
</div>

<h2 id="doc7_1883">6.1  学習目標</h2>


<ul>
<li> 繰り返しや分岐を入れ子にして、目的のプログラムが書けるようになる
<li> 剰余演算子を使って、一定の周期をもつプログラムが書けるようになる</ul>


<h2 id="doc7_1895">6.2  繰り返しの入れ子</h2>

<p class="first_ja">今回は繰り返しの入れ子（繰り返しの中に繰り返しがあること）に挑戦してみましょう。</p>

<h3 id="doc7_1900">6.2.1  窓を描く（４つの四角形を描く）プログラム</h3>

<p class="first_ja">次のプログラムを見てみましょう。</p>

<div class="figure">
<img class="figure" style="scale:1.0" src="chapter05/image/BFourSquares.jpg" alt="図 6.2.1.1 FourSquares">
</div>


<div id="doc7_src:FourSquares" class="caption">リスト 6.2.1.1 FourSquares.java</div>
<pre class="program" style="margin-top:0">
  1: <span class="comment">/*
  2:  * 四つの四角を描くプログラム
  3:  * 2012/10/21 Yoshiaki Matsuzawa
  4:  */</span>
  5: <span class="keyword">public</span> <span class="keyword">class</span> FourSquares <span class="keyword">extends</span> Turtle {
  6: 
  7: 	<span class="comment">// 起動処理</span>
  8: 	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(String[] args) {
  9: 		Turtle.startTurtle(<span class="keyword">new</span> FourSquares());
 10: 	}
 11: 
 12: 	<span class="comment">// タートルを動かす処理</span>
 13: 	<span class="keyword">public</span> <span class="keyword">void</span> start() {
 14: 		{ <span class="comment">// 窓を描く</span>
 15: 			<span class="keyword">int</span> j = 1;
 16: 			<span class="keyword">while</span> (j &lt;= 4) {
 17: 				{ <span class="comment">// 四角形を描く</span>
 18: 					<span class="keyword">int</span> i = 1;
 19: 					<span class="keyword">while</span> (i &lt;= 4) {
 20: 						fd(50);
 21: 						rt(90);
 22: 						i++;
 23: 					}
 24: 				}
 25: 				rt(90);
 26: 				j++;
 27: 			}
 28: 		}
 29: 	}
 30: 
 31: }
</pre>

<p><a href="chapter05/src/FourSquares.java" onMouseOver="hilightHyperlink(this)" onMouseOut="normal(this)">ここ</a>
			をクリックすると、プログラムをダウンロードできます。</p>
<p>下のボタンを押すと、FourSquaresプログラムが実行できます。</p>
<p><applet code="TurtleLaunchApplet" archive="chapter05_binary.jar,blib.jar" width="200" height="38">
<param name="Turtle" value="FourSquares"/>
</applet></p>

<div class="figure">
<img class="figure" style="scale:1.0" src="chapter05/image/foursquares.jpg" alt="図 6.2.1.2 窓を描くプログラム">
</div>

<p>前回、四角形を描くには繰り返しを使うことを習いました。今回は、さらにその四角形を何個も描くために、
					もう一つ外側に繰り返しを作って、&quot;繰り返しを繰り返す&quot;ということをやっています。</p>
<p>入れ子の様子はフローチャートで示すとよく分かります．</p>

<div class="figure">
<img class="figure" style="scale:1.0" src="chapter05/image/flow_FourSquares.jpg" alt="図 6.2.1.3 窓を描くプログラム">
</div>


<h3 id="doc7_1932">6.2.2  ブロックの入れ子</h3>

<p class="first_ja">ブロックは中括弧({})で囲まれた部分のことを言います。</p>
<p>下図のように、プログラムのifブロックやwhileブロックはいくつでも入れ子にすることができます。</p>

<div class="figure">
<img class="figure" style="scale:1.0" src="chapter05/image/block.gif" alt="図 6.2.2.1 ブロックの入れ子">
</div>

<div class="fyi">
<div class=title>コンパイルエラーに注意</div>

<p class="first_ja">ブロックを示す中括弧は必ず対応していなくてはなりません。
						開き括弧が余ったり、閉じ括弧が余ったりすると、コンパイルエラーとなります。</p>
<p>括弧違いの場合、コンピュータはブロックを勘違いしてしまうので、
						よけいなコンパイルエラーが（たくさん）でます。
						たくさんのコンパイルエラーが一気にでたら、まず括弧の対応関係を確かめましょう。</p>
</div>


<h3 id="doc7_1952">6.2.3  インデント</h3>

<p class="first_ja">第3回の時にも指摘しましたが、インデントをつけると括弧の対応関係やブロックの範囲が分かりやすくなります。
					<em>インデントがついていないソースは受理しません。</em></p>
<p>見やすいだけでなく、これができていないためにコンパイルエラーで動かない場合が非常に多いので、
					注意してください。</p>

<div class="figure">
<img class="figure" style="scale:1.0" src="chapter05/image/indent.gif" alt="図 6.2.3.1 インデント">
</div>

<p>論プロエディタでは、フォーマットをするとよいです。</p>

<h2 id="doc7_1970">6.3  入れ子と並列の違いの考察：花を描くプログラム</h2>

<p class="first_ja">入れ子の応用として、花を描くプログラムを考えてみましょう。</p>

<div class="figure">
<img class="figure" style="scale:1.0" src="chapter05/image/flower.gif" alt="図 6.3.1 花を書くプログラム">
</div>


<h3 id="doc7_1977">6.3.1  花びらを描く</h3>

<p class="first_ja">花を描くには、まず花びらをかいて、それを繰り返す必要があります。</p>

<div class="figure">
<img class="figure" style="scale:1.0" src="chapter05/image/petal.gif" alt="図 6.3.1.1 花びらを書くプログラム">
</div>


<div class="figure">
<img class="figure" style="scale:1.0" src="chapter05/image/BPetal.jpg" alt="図 6.3.1.2 Petal">
</div>


<div id="doc7_src:Petal" class="caption">リスト 6.3.1.1 Petal.java</div>
<pre class="program" style="margin-top:0">
  1: <span class="comment">/*
  2:  * 花びらを書くプログラム
  3:  * 2003/06/08 Yoshiaki Matsuzawa
  4:  * 2012/10/16 改訂 Yoshiaki Matsuzawa
  5:  */</span>
  6: <span class="keyword">public</span> <span class="keyword">class</span> Petal <span class="keyword">extends</span> Turtle {
  7: 
  8: 	<span class="comment">// 起動処理</span>
  9: 	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(String[] args) {
 10: 		Turtle.startTurtle(<span class="keyword">new</span> Petal());
 11: 	}
 12: 
 13: 	<span class="comment">// タートルを動かす処理</span>
 14: 	<span class="keyword">public</span> <span class="keyword">void</span> start() {
 15: 		{<span class="comment">// 花びらを描く</span>
 16: 			{<span class="comment">// 円弧を描く</span>
 17: 				<span class="keyword">int</span> i = 1;
 18: 				<span class="keyword">while</span> (i &lt;= 120) {
 19: 					rt(1);
 20: 					fd(1);
 21: 					i++;
 22: 				}
 23: 			}
 24: 
 25: 			{<span class="comment">// 次の円弧の角度へ</span>
 26: 				rt(60);
 27: 			}
 28: 
 29: 			{<span class="comment">// 円弧を描く</span>
 30: 				<span class="keyword">int</span> i = 1;
 31: 				<span class="keyword">while</span> (i &lt;= 120) {
 32: 					rt(1);
 33: 					fd(1);
 34: 					i++;
 35: 				}
 36: 			}
 37: 
 38: 		}
 39: 	}
 40: }
</pre>

<p><a href="chapter05/src/Petal.java" onMouseOver="hilightHyperlink(this)" onMouseOut="normal(this)">ここ</a>
			をクリックすると、プログラムをダウンロードできます。</p>
<p>下のボタンを押すと、Petalプログラムが実行できます。</p>
<p><applet code="TurtleLaunchApplet" archive="chapter05_binary.jar,blib.jar" width="200" height="38">
<param name="Turtle" value="Petal"/>
</applet></p>

<h3 id="doc7_2001">6.3.2  花を描く</h3>

<p class="first_ja">花びらを描くには繰り返しが必要で、花を描くにはさらにそれを繰り返す必要があります。
				以下のように、繰り返しの入れ子を使います。</p>

<div class="figure">
<img class="figure" style="scale:1.0" src="chapter05/image/BFlower.jpg" alt="図 6.3.2.1 Flower">
</div>


<div id="doc7_src:Flower" class="caption">リスト 6.3.2.1 Flower.java</div>
<pre class="program" style="margin-top:0">
  1: <span class="comment">/*
  2:  * 花を書くプログラム
  3:  * 2003/06/08 Yoshiaki Matsuzawa
  4:  * 2012/10/16 改訂 Yoshiaki Matsuzawa
  5:  */</span>
  6: <span class="keyword">public</span> <span class="keyword">class</span> Flower <span class="keyword">extends</span> Turtle {
  7: 
  8: 	<span class="comment">// 起動処理</span>
  9: 	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(String[] args) {
 10: 		Turtle.startTurtle(<span class="keyword">new</span> Flower());
 11: 	}
 12: 
 13: 	<span class="comment">// タートルを動かす処理</span>
 14: 	<span class="keyword">public</span> <span class="keyword">void</span> start() {
 15: 
 16: 		{<span class="comment">// 花をかく（6枚の花びらを書く）</span>
 17: 			<span class="keyword">int</span> j = 1;
 18: 			<span class="keyword">while</span> (j &lt;= 6) {
 19: 
 20: 				{<span class="comment">// 花びらを描く</span>
 21: 					{<span class="comment">// 円弧を描く</span>
 22: 						<span class="keyword">int</span> i = 1;
 23: 						<span class="keyword">while</span> (i &lt;= 120) {
 24: 							rt(1);
 25: 							fd(1);
 26: 							i++;
 27: 						}
 28: 					}
 29: 
 30: 					{<span class="comment">// 次の円弧の角度へ</span>
 31: 						rt(60);
 32: 					}
 33: 
 34: 					{<span class="comment">// 円弧を描く</span>
 35: 						<span class="keyword">int</span> i = 1;
 36: 						<span class="keyword">while</span> (i &lt;= 120) {
 37: 							rt(1);
 38: 							fd(1);
 39: 							i++;
 40: 						}
 41: 					}
 42: 
 43: 				}
 44: 
 45: 				j++;
 46: 			}
 47: 		}
 48: 	}
 49: }
</pre>

<p><a href="chapter05/src/Flower.java" onMouseOver="hilightHyperlink(this)" onMouseOut="normal(this)">ここ</a>
			をクリックすると、プログラムをダウンロードできます。</p>
<p>下のボタンを押すと、Flowerプログラムが実行できます。</p>
<p><applet code="TurtleLaunchApplet" archive="chapter05_binary.jar,blib.jar" width="200" height="38">
<param name="Turtle" value="Flower"/>
</applet></p>
<p>ポイントは、花びらを書くループの外側にそれを6回繰り返すループをつくる
					（つまりループを入れ子にする）ことです。
					「繰り返しを繰り返す」ためには、繰り返す繰り返しの外側に繰り返しループ
					を書く必要がありました。構造は以下のようになります。</p>

<div class="figure">
<img class="figure" style="scale:1.0" src="chapter05/image/flowerblock.gif" alt="図 6.3.2.2 花を書くプログラムの構造">
</div>


<h3 id="doc7_2028">6.3.3  花を描く（間違い）</h3>

<p class="first_ja">以下に、よくある間違いの例を示します。</p>

<div class="figure">
<img class="figure" style="scale:1.0" src="chapter05/image/BBadFlower.jpg" alt="図 6.3.3.1 BadFlower">
</div>


<div id="doc7_src:BadFlower" class="caption">リスト 6.3.3.1 BadFlower.java</div>
<pre class="program" style="margin-top:0">
  1: <span class="comment">/*
  2:  * 花を書くプログラム(うまくいかない版)
  3:  * 2003/06/08 Yoshiaki Matsuzawa
  4:  * 2012/10/16 改訂 Yoshiaki Matsuzawa
  5:  */</span>
  6: <span class="keyword">public</span> <span class="keyword">class</span> BadFlower <span class="keyword">extends</span> Turtle {
  7: 
  8: 	<span class="comment">// 起動処理</span>
  9: 	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(String[] args) {
 10: 		Turtle.startTurtle(<span class="keyword">new</span> BadFlower());
 11: 	}
 12: 
 13: 	<span class="comment">// タートルを動かす処理</span>
 14: 	<span class="keyword">public</span> <span class="keyword">void</span> start() {
 15: 		{<span class="comment">// 花をかく（6枚の花びらを書く）</span>
 16: 			<span class="keyword">int</span> i = 1;
 17: 			<span class="keyword">while</span> (i &lt;= 6) {
 18: 				rt(1);
 19: 				fd(1);
 20: 				i = i + 1;
 21: 			}
 22: 		}
 23: 
 24: 		{<span class="comment">// 花びらを描く</span>
 25: 			{<span class="comment">// 円弧を描く</span>
 26: 				<span class="keyword">int</span> i = 1;
 27: 				<span class="keyword">while</span> (i &lt;= 120) {
 28: 					rt(1);
 29: 					fd(1);
 30: 					i++;
 31: 				}
 32: 			}
 33: 
 34: 			{<span class="comment">// 次の円弧の角度へ</span>
 35: 				rt(60);
 36: 			}
 37: 
 38: 			{<span class="comment">// 円弧を描く</span>
 39: 				<span class="keyword">int</span> i = 1;
 40: 				<span class="keyword">while</span> (i &lt;= 120) {
 41: 					rt(1);
 42: 					fd(1);
 43: 					i++;
 44: 				}
 45: 			}
 46: 
 47: 		}
 48: 
 49: 	}
 50: }
</pre>

<p><a href="chapter05/src/BadFlower.java" onMouseOver="hilightHyperlink(this)" onMouseOut="normal(this)">ここ</a>
			をクリックすると、プログラムをダウンロードできます。</p>
<p>下のボタンを押すと、BadFlowerプログラムが実行できます。</p>
<p><applet code="TurtleLaunchApplet" archive="chapter05_binary.jar,blib.jar" width="200" height="38">
<param name="Turtle" value="BadFlower"/>
</applet></p>
<p>これがうまくいかない理由が説明できるでしょうか？
					以下に、このプログラムの構造を示しますので、
					うまくいく方と比較してみましょう。</p>

<div class="figure">
<img class="figure" style="scale:1.0" src="chapter05/image/flowerblockinvalid.gif" alt="図 6.3.3.2 うまくいかない花を書くプログラムの構造">
</div>

<p>このように、入れ子を作る時には、｛｝の位置に注意する必要があります。</p>

<h2 id="doc7_2059">6.4  繰り返し変数の利用</h2>


<h3 id="doc7_2061">6.4.1  目玉を描くプログラム</h3>

<p class="first_ja">次のプログラムを見てみましょう。</p>

<div class="figure">
<img class="figure" style="scale:1.0" src="chapter05/image/BMultiCircle.jpg" alt="図 6.4.1.1 MultiCircle">
</div>


<div id="doc7_src:MultiCircle" class="caption">リスト 6.4.1.1 MultiCircle.java</div>
<pre class="program" style="margin-top:0">
  1: <span class="comment">/*
  2:  * 複数の円を書くプログラム
  3:  * (角度を増やしていく版)
  4:  * 2003/06/08 Yoshiaki Matsuzawa
  5:  * 2012/10/16 改訂 Yoshiaki Matsuzawa
  6:  */</span>
  7: <span class="keyword">public</span> <span class="keyword">class</span> MultiCircle <span class="keyword">extends</span> Turtle {
  8: 
  9: 	<span class="comment">// 起動処理</span>
 10: 	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(String[] args) {
 11: 		Turtle.startTurtle(<span class="keyword">new</span> MultiCircle());
 12: 	}
 13: 
 14: 	<span class="comment">// タートルを動かす処理</span>
 15: 	<span class="keyword">public</span> <span class="keyword">void</span> start() {
 16: 
 17: 		{ <span class="comment">// （円を）10個描く</span>
 18: 			<span class="keyword">int</span> j = 1;
 19: 			<span class="keyword">while</span> (j &lt;= 10) {
 20: 				{ <span class="comment">// 円を描く</span>
 21: 					<span class="keyword">int</span> i = 1;
 22: 					<span class="keyword">while</span> (i &lt;= 360) {
 23: 						fd(1);
 24: 						rt(j);
 25: 						i = i + j;
 26: 					}
 27: 				}
 28: 				j = j + 1;
 29: 			}
 30: 		}
 31: 
 32: 	}
 33: 
 34: }
</pre>

<p><a href="chapter05/src/MultiCircle.java" onMouseOver="hilightHyperlink(this)" onMouseOut="normal(this)">ここ</a>
			をクリックすると、プログラムをダウンロードできます。</p>
<p>下のボタンを押すと、MultiCircleプログラムが実行できます。</p>
<p><applet code="TurtleLaunchApplet" archive="chapter05_binary.jar,blib.jar" width="200" height="38">
<param name="Turtle" value="MultiCircle"/>
</applet></p>

<div class="figure">
<img class="figure" style="scale:1.0" src="chapter05/image/multicircle.gif" alt="図 6.4.1.2 たくさんの円を書くプログラム">
</div>

<p>「「円を描く繰り返し」を繰り返す」という入れ子のループになっています。ただし，単に10回円を描くのではなく，
				j回目のループの時にj度だけ回りながら円を作っています。つまり，繰り返しの回数を記憶しておくjという変数を利用して，
				繰り返しの回数で円の大きさを変化させようとしているのです。</p>

<h3 id="doc7_2088">6.4.2  奇数と偶数を判定する</h3>

<p class="first_ja">剰余演算子(%)を使うと、割り算のあまりを求めることができます。
					これを使うと、例えば奇数と偶数を判定することができます。</p>

<div class="figure">
<img class="figure" style="scale:1.0" src="chapter05/image/BSquareAndTriangle.jpg" alt="図 6.4.2.1 SquareAndTriangle">
</div>


<div id="doc7_src:SquareAndTriangle" class="caption">リスト 6.4.2.1 SquareAndTriangle.java</div>
<pre class="program" style="margin-top:0">
  1: <span class="comment">/*
  2:  * 四角と三角を並べていくプログラム
  3:  * 2003/06/08 Yoshiaki Matsuzawa
  4:  * 2012/10/16 改訂 Yoshiaki Matsuzawa
  5:  */</span>
  6: <span class="keyword">public</span> <span class="keyword">class</span> SquareAndTriangle <span class="keyword">extends</span> Turtle {
  7: 
  8: 	<span class="comment">// 起動処理</span>
  9: 	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(String[] args) {
 10: 		Turtle.startTurtle(<span class="keyword">new</span> SquareAndTriangle());
 11: 	}
 12: 
 13: 	<span class="comment">// タートルを動かす処理</span>
 14: 	<span class="keyword">public</span> <span class="keyword">void</span> start() {
 15: 
 16: 		<span class="keyword">int</span> length = 50;<span class="comment">// １辺の長さ</span>
 17: 
 18: 		{<span class="comment">// 図形を描く　（8回繰り返す）</span>
 19: 			<span class="keyword">int</span> i = 1;
 20: 			<span class="keyword">while</span> (i &lt;= 8) {
 21: 
 22: 				<span class="keyword">if</span> (i % 2 == 0) {<span class="comment">// 偶数なら</span>
 23: 					{<span class="comment">// 四角形を書く</span>
 24: 						<span class="keyword">int</span> j = 1;
 25: 						<span class="keyword">while</span> (j &lt;= 4) {
 26: 							fd(length);
 27: 							lt(90);
 28: 
 29: 							j++;<span class="comment">// jを1増やす([j = j + 1] の省略形)</span>
 30: 						}
 31: 					}
 32: 				} <span class="keyword">else</span> {<span class="comment">// 奇数なら</span>
 33: 					{<span class="comment">// 三角形を書く</span>
 34: 						<span class="keyword">int</span> j = 1;
 35: 						<span class="keyword">while</span> (j &lt;= 3) {
 36: 							fd(length);
 37: 							lt(120);
 38: 
 39: 							j++;<span class="comment">// jを1増やす([j = j + 1] の省略形)</span>
 40: 						}
 41: 					}
 42: 				}
 43: 
 44: 				{<span class="comment">// 次の図形を書く位置に移動する</span>
 45: 					up();
 46: 					rt(135);
 47: 					fd(length);
 48: 					rt(180);
 49: 					down();
 50: 				}
 51: 
 52: 				i++;<span class="comment">// jを1増やす([i = i + 1] の省略形)</span>
 53: 			}
 54: 		}
 55: 
 56: 	}
 57: 
 58: }
</pre>

<p><a href="chapter05/src/SquareAndTriangle.java" onMouseOver="hilightHyperlink(this)" onMouseOut="normal(this)">ここ</a>
			をクリックすると、プログラムをダウンロードできます。</p>
<p>下のボタンを押すと、SquareAndTriangleプログラムが実行できます。</p>
<p><applet code="TurtleLaunchApplet" archive="chapter05_binary.jar,blib.jar" width="200" height="38">
<param name="Turtle" value="SquareAndTriangle"/>
</applet></p>

<div class="figure">
<img class="figure" style="scale:1.0" src="chapter05/image/square_and_triangle.gif" alt="図 6.4.2.2 三角形と四角形を交互に書くプログラム">
</div>

<p>このプログラムでは、剰余演算子と、先ほど説明した繰り返しの変数を利用して、
					繰り返した数が偶数なら四角，奇数なら三角を描くようにプログラムされています。</p>

<h2 id="doc7_2116">6.5  練習問題</h2>


<h3 id="doc7_2119">6.5.1  四角形を10個描くプログラムを作ろう</h3>


<div class="figure">
<img class="figure" style="scale:1.0" src="chapter05/image/tenblocks.jpg" alt="図 6.5.1.1 10個描くプログラム">
</div>

<p class="first_ja">ファイル名は「TenBoxes.java」とすること．</p>

<h3 id="doc7_2127">6.5.2  四角形を100個描くプログラムを作ろう</h3>


<div class="figure">
<img class="figure" style="scale:1.0" src="chapter05/image/hundredblocks.jpg" alt="図 6.5.2.1 四角形を100個描くプログラム">
</div>

<p class="first_ja">ファイル名は「HundredBoxes.java」とすること．</p>

<h3 id="doc7_2135">6.5.3  四角形と三角形を交互に100個描くプログラムを作ろう</h3>


<div class="figure">
<img class="figure" style="scale:1.0" src="chapter05/image/hundredblocks2.jpg" alt="図 6.5.3.1 四角形と三角形を交互に100個描くプログラム">
</div>

<p class="first_ja">ファイル名は「HundredBoxes2.java」とすること．</p>

<h3 id="doc7_2143">6.5.4  貝殻を描くプログラムを作ろう</h3>


<div class="figure">
<img class="figure" style="scale:1.0" src="chapter05/image/shell.jpg" alt="図 6.5.4.1 貝殻を描くプログラム">
</div>

<p class="first_ja">ヒント１：まず以下のプログラムを作ってみよう。</p>

<div class="figure">
<img class="figure" style="scale:1.0" src="chapter05/image/shellhint.jpg" alt="図 6.5.4.2 貝殻を描くプログラムのヒント">
</div>

<p>ヒント２：ヒント１が出来たら、四角の大きさを指定するとき、上位ループの繰返しの変数を利用する。</p>
<p>ファイル名は「Shell.java」とすること．</p>

<h3 id="doc7_2159">6.5.5  タイヤを描くプログラムを作ろう</h3>


<div class="figure">
<img class="figure" style="scale:1.0" src="chapter05/image/tire.gif" alt="図 6.5.5.1 タイヤを描くプログラム">
</div>

<p class="first_ja">ヒント：ずらす角度は8度, 四角の１辺は10歩にするとうまくいく。
					真ん中の円は多少ずれていても構わない。</p>
<p>ファイル名は「Tire.java」とすること．</p>

<h3 id="doc7_2170">6.5.6  ドラえもんを描くプログラムを作ろう</h3>


<div class="figure">
<img class="figure" style="scale:1.0" src="chapter05/image/doraemon.gif" alt="図 6.5.6.1 ドラえもんを描くプログラム">
</div>

<p class="first_ja">ファイル名は「Doraemon.java」とすること．</p>

<h3 id="doc7_2178">6.5.7  キーボードを描くプログラムを作ろう</h3>


<div class="figure">
<img class="figure" style="scale:1.0" src="chapter05/image/keyboard.png" alt="図 6.5.7.1 キーボードを描くプログラム">
</div>

<p class="first_ja">ファイル名は「Keyboard.java」とすること．</p>
<div class="navigatorbottom">
<table class="navigator">
<tr>
<td><a href="index_p1_c5.html" onMouseOver="hilightHyperlink(this)" onMouseOut="normal(this)"><span class="toggle">&lt;&lt;</span></a></td>
<td><a href="index.html" onMouseOver="hilightHyperlink(this)" onMouseOut="normal(this)">Turtle Cafe 2</a>/<a href="index_p1.html#doc1_part:one" onMouseOver="hilightHyperlink(this)" onMouseOut="normal(this)">Javaプログラミング入門</a>/ブロックの入れ子構造</td>
<td><a href="index_p1_c7.html" onMouseOver="hilightHyperlink(this)" onMouseOut="normal(this)"><span class="toggle">&gt;&gt;</span></a></td>
</tr>
</table>
</div>
</body>
</html>